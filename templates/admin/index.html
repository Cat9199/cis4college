{% extends 'admin/base.html' %} {% block content %}

<!-- link boxicon -->
<link href="https://boxicons.com/css/boxicons.min.css" rel="stylesheet">
<script src="https://unpkg.com/boxicons@2.1.3/dist/boxicons.js"></script>
<link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
<div class="">
      <div class="mb-5">
            <div>
                  <div class="py-2 px-3 gap-3 rounded-full bg-buttonBlue flex justify-center items-center  w-fit">
                        <div><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"
                                    fill="none">
                                    <circle cx="20" cy="20" r="20" fill="#F4CB3C"></circle>
                              </svg></div>
                        <h1 class="text-white font-medium text-lg">آخر التسجيلات</h1>
                  </div>
            </div>
      </div>

</div>





<div class="  overflow-x-auto box-shadow mt-5">
      <table class="  w-full flex-grow  h-fit ">
            <thead class="bg-lightGray text-tableHead">
                  <tr>
                        <th class="text-tableHead font-normal text-x-[16px]">
                              <h2>الطالب</h2>
                        </th>
                        <th class="text-tableHead font-normal text-x-[16px] text-right  min-w-32">البرنامج</th>
                        <th class="text-tableHead font-normal text-x-[16px] text-right min-w-32">الحاله</th>
                        <th class="text-tableHead font-normal text-x-[16px] text-right min-w-32 ">رقم الهاتف</th>
                        <th class="text-tableHead font-normal text-x-[16px] text-right min-w-32 ">الجنسية</th>
                        <th class="text-tableHead font-normal text-x-[16px] text-right min-w-32 ">التحكم</th>
                  </tr>
            </thead>
            <tbody>
                  {% for student in all_users %}
                  <tr class="pl-3">
                        <td class="min-w-60">
                              <div class="flex justify-start items-center gap-4">
                                    <div class="w-11 rounded-full overflow-hidden"><img
                                                src="https://ui-avatars.com/api/?name={{ student.email }}&size=64"
                                                alt=""></div>
                                    <div class="text-right">
                                          <h1 class="font-medium  text-sm text-darkGray ">{{ student.english_name }}
                                          </h1>
                                          <p class="text-lightText text-[12px]">{{ student.email }}</p>
                                    </div>
                              </div>
                        </td>
                        <td>{{ student.program }}</td>
                        <td class=" ">
                              {% if student.is_approved %}
                              <p class="text-xs  text-white  font-normal m w-fit py-1 px-3 rounded-full bg-green-600">
                                    مقبول </p>
                              {% else %}
                              <p class="text-xs  text-white  font-normal m w-fit py-1 px-3 rounded-full bg-[#F42E2E] ">
                                    لم يقبل </p>
                              {% endif %}
                        </td>
                        <td>
                              <p class="text-xs text-lightText font-normal m-auto">+ {{ student.phone }}</p>
                        </td>
                        <td>
                              <p class="text-xs text-lightText font-normal m-auto">{{ student.nationality }}</p>
                        </td>
                        <td>
                              <div class="flex justify-end items-center gap-4">
                                    <!-- view user -->
                                    <a href="{{ url_for('admin.view_user', user_id=student.id) }}"
                                          class="text-xs text-white font-normal m w-fit py-1 px-1 rounded-full bg-[#2E6FF4]">
                                          <i class='bx bx-show'></i>
                                    </a>
                                    <!-- approve user -->
                                    <a href="{{ url_for('admin.approve', user_id=student.id) }}"
                                          class="text-xs text-white font-normal m w-fit py-1 px-1 rounded-full bg-green-600">
                                          <i class='bx bx-check'></i>
                                    </a>
                                    <!-- reject user -->
                                    <a href="{{ url_for('admin.reject', user_id=student.id) }}"
                                          class="text-xs text-white font-normal m w-fit py-1 px-1 rounded-full bg-[#F42E2E]">
                                          <i class='bx bx-x'></i>
                                    </a>

                              </div>
                        </td>
                  </tr>
                  {% endfor %}

            </tbody>

      </table>
</div>

{% endblock %}